jQuery.fn.zcarousel=function(c){function f(a){var d=$(a.target),a=d.width(),c=d.height(),a=a/c;d.css({width:b.width(),height:Math.round(b.width()*(1/a))});e&&(e.stop(),e=null);l.color="#fff";a=Math.min(0,(b.height()-d.height())/2);d.css("top",a+"px");d.fadeIn("fast",function(){$(".carousel-image").hide();d.show()})}function h(a){var d=i.find("div"),c=$("<div/>").html(a.caption).appendTo(i),g=c.height();c.hide();d.length?d.stop().fadeOut(100,"linear",function(){d.remove();c.fadeIn(100)}):c.fadeIn(100);
i.stop().animate({opacity:1,height:g},500);a.domElement?(a.domElement.hide(),a.domElement.remove().appendTo(b),a.domElement.fadeIn("fast",function(){$(".carousel-image").hide();a.domElement.show()}),e&&(e.stop(),e=null)):(e||(e=(new Spinner(l)).spin(b[0])),g=$('<img class="carousel-image"/>'),g.css({position:"absolute","z-index":-1,left:0,top:0,display:"none"}),g.load(f),g.attr("src",a.url).appendTo(b),a.domElement=g)}function m(a){a.preventDefault();a=$(a.target).hasClass("left")?-1:1;j=(j+a+c.length)%
c.length;h(c[j])}var l={lines:13,length:7,width:4,radius:10,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2E9,top:"auto",left:"auto"},b=this,i=$("<div/>").appendTo(b),k=$('<a href="#"/>').html("\u203a").appendTo(b),n=$('<a href="#"/>').html("\u2039").appendTo(b),e=null;b.css({position:"relative",color:"#fff",overflow:"hidden"});i.css({position:"absolute",left:"0",right:"0",bottom:"0",background:"rgba(0,0,0,0.75)",overflow:"hidden",padding:"10px 15px",opacity:0,
height:0});k.add(n).css({position:"absolute",top:"40%",left:"15px",width:"40px",height:"40px","margin-top":"-20px","font-size":"60px","font-weight":"100","line-height":"30px",color:"#ffffff","text-align":"center",background:"#222222",border:"3px solid #ffffff","-webkit-border-radius":"23px","-moz-border-radius":"23px","border-radius":"23px",opacity:"0.5",filter:"alpha(opacity=50)","text-decoration":"none"}).hover(function(a){$(a.target).css({opacity:1})},function(a){$(a.target).stop().animate({opacity:0.5},
200)});k.css({left:"auto",right:"15px"});var j=0;k.click(m);n.click(m);h(c[j])};$(function(){var c=$("#zcarousel-data"),f=$("#zcarousel");if(!(0==c.length||0==f.length)){var h=[];$.each(c.find("tr"),function(c,f){var b=$(f).find("td"),b={url:$(b[0]).html(),offset:$(b[1]).html(),caption:$(b[2]).html()};h.push(b)});f.zcarousel(h)}});
